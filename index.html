<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title>Pixels</title>

        <link rel="stylesheet" href="css/Main.css">
        <link rel="stylesheet" href="css/Header.css">

        <script type="text/javascript" src="javascript/Core.js"></script>
        <script type="text/javascript" src="javascript/MouseMovement.js"></script>
        <script type="text/javascript" src="javascript/ToolKit.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    </head>

    <body>
        <div id="header">
            <div class="component">
                <div id="color1" class="component color">
                    <form class="" action="index.html" method="post">
                        <!--temp readonly-->
                        <input id="color1_text" type="text" value="#ffe303" maxlength="7" readonly>
                    </form>
                </div>
            </div>

            <div id="night_toggle" class="component" onclick="toggle_night()">
                <div id="sun" class="icon"></div>
                <div id="moon" class="icon"></div>
            </div>

            <div class="component">
                <div id="color2" class="component color">
                    <form>
                         <!--temp readonly-->
                        <input id="color2_text" type="text" value="#ffe303" maxlength="7" readonly>
                    </form>
                </div>
            </div>
        </div>

        <div id="background">
            <span id="output"></span>
        </div>

        <div id="overlay">
            <div>
                <span>Press the spacebar to get different results!</span>
            </div>
        </div>
    </body>

    <script type="text/javascript">
        //Update alert (v1.3)
        //Will be commented for testing pruposes of v1.4
        alert("Update v1.3:\n"+
            "There is no longer any need to refresh the page! Try out\n"+
            "the space bar to get different results! Also try clicking\n"+
            "the sun button ;)");

        /*
        Change Log:
            Update v1.1:
                Added spacebar to change cube_color1 and cube_color2
                Added the update message
            Update v1.2:
                Removed spacebar to change cube_color1 and cube_color2
                Added spacebar to refresh the results of the page
                Added the ToolKit.js file for cleaning
                Added general comments
                Added changelog
                Increased num_of_cubes from 140 to 160
                Reformatted script
            Update v1.3:
                Added previous mosue position tracking to make transion more fluid
                Added comments to all scripts
                Added spacebar prompt
                Reformatted night_toggle and header
                Organised file structure
                Organised scripts
        */

        //EDITABLE AREA STARTS HERE//-----------------------------------------------------------

        //Settings:
        var num_of_cubes = 160; //Number of total cubes generated
        var cube_color1;        //Hue of the cubes, can be fixed here
        var cube_color2;        //Hue of the cubes, can be fixed here

        var max_width = 150;    //Maximum width of the cubes in pixels
        var max_height = 150;   //Maximum height of the cubes in pixels
        var min_width = 60;     //Minimum width of the cubes in pixels
        var min_height = 60;    //Minimum width of the cubes in pixels

        //Maximum x value of the cubes position
        var max_x = document.documentElement.clientWidth - 60;
        //30 pixels are added afterwards to create a padding effect (30px each side)

        //Maximum y value of the cubes position
        var max_y = Math.floor(document.documentElement.clientHeight * 0.86) - 30;
        //Using 86% of the height of the document to account for the header
        //+ 15 pixels are added afterwards to create a padding effect (15px each side)

        //EDITABLE AREA ENDS HERE//--------------------------------------------------------------

        //Inital generation
        generate();

        //Key listener for spacebar press
        document.onkeypress = function (e) {
            e = e || window.event;
            //Detecting spacebar press
            if (e.keyCode == 32) {
                //Getting rid of the user prompt
                $('#overlay').css("display", "none");
                //Refreshing the current display of cubes
                generate();
            }
        };
    </script>
</html>
